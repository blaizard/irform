<html>
	<head>
		<script src="jquery-3.1.0.min.js"></script>
		<script src="../srcs/irform.js"></script>
		<script src="../srcs/jquery.irform-array.js"></script>
		<script src="../srcs/jquery.irform-array.keywords.js"></script>
		<script src="../srcs/jquery.irform-tinymce.js"></script>
		<script src="../srcs/jquery.irform-file.js"></script>
		<script src="../srcs/irform.irexplorer.js"></script>

		<link rel="stylesheet" type="text/css" href="../theme/default/icon.css"/>
		<link rel="stylesheet" type="text/css" href="../theme/default/irform.css"/>
<!--
		<script src="../srcs/irform.bootstrap.js"></script>
		<script src="bootstrap/js/bootstrap.min.js"></script>
		<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css"/>
//-->
		<!--
		<script src="../irform.min.js"></script>
		//-->
		<script src="tinymce/js/tinymce/tinymce.min.js"></script>
		<script src="irexplorer/irexplorer.min.js"></script>
		<script src="ircom/ircom.js"></script>


		<script src="tinymce.keyword.plugin.js"></script>
	</head>
	<body>
		<div id="myForm"></div>
		<script>
			var irform = new Irform("#myForm", [
			    {name: "username", caption: "Username", type: "input", required: true, validate: Irform.EMAIL},
			    {name: "password", caption: "Password", type: "password", required: true},
			    {type: "submit", value: "Ok"}
			]);
		</script>

		<h1>Static form</h1>
		<form id="example1">
			First name:<br>
			<input type="text" name="firstname" value=""><br>
			Last name:<br>
			<input type="text" name="lastname" value=""><br>
			Children:<br>
			<div id="example1-array"></div><br>
			<button type="button" onclick="irformGet_example1()">Irform.get</button><br>
			<button type="button" onclick="irformSet_example1()">Irform.set</button><br>
		</form>
		<script>
			$("#example1-array").irformArray({
				name: "children",
				template: "<span>First name: <input type=\"text\" name=\"firstname\"/></span><span>Age: <input type=\"text\" name=\"age\"/></span>"
			});
			function irformGet_example1()
			{
				var result = Irform.get("#example1");
				console.log(result);
			}
			function irformSet_example1()
			{
				Irform.set("#example1", {
					firstname: "Mickey",
					lastname: "Mouse",
					children: [
						{firstname: "Rodrigo", age: "12"},
						{firstname: "Julie", age: "5"}
					]
				});
			}
		</script>
		<h1>Irform().create(...)</h1>

		<form id="example2"></form>
		<button type="button" onclick="irformGet_example2()">Irform.get</button><br>
		<button type="button" onclick="irformSet_example2()">Irform.set</button><br>
		<button type="button" onclick="irform_toggle_enable()">Enable/Disable</button><br>
		<button type="button" onclick="irformUpdate_example2()">Irform.update</button><br>
		<script>
			var formDescription = [
				{name: "array", caption: "Array", type: "array"},
				{name: "test", caption: "Test", type: "input"},
				{name: "keywords", caption: "Keywords", disabled: false, type: "keywords"},
				{name: "file", caption: "File", type: "file"},
				{name: "car", caption: "Car", type: "select", description: "What car do you drive?", select: {
						none: "None",
						mercedes: "Mercedes",
						peugeot: "Peugeot"
					}, onchange: {
						__default__: [
							{name: "model", caption: "Model", required: true, type: "input"},
							{name: "year", caption: "Year", disabled: true, type: "input"},
							{name: "cities", caption: "Cities you have been to", type: "keywords"}
						],
						none: []
					}
				},
				{name: "about", required: true, caption: "About Me", type: "textarea", validate: Irform.CHAR_A_Z},
				{name: "editor", required: true, caption: "Editor", type: "htmleditor", options: {css: "bootstrap/css/bootstrap.css", tinymceBase: "tinymce/js/tinymce"}}
			];
			var form = new Irform("#example2", formDescription);
			function irformUpdate_example2() 
			{
				/* Update */
				formDescription["newfield"] = {required: true, caption: "New field*", type: "input", validate: Irform.CHAR_A_Z};
				form.update(formDescription);
			}
			function irformGet_example2()
			{
				var result = form.get();
				console.log(result);
			}
			function irform_toggle_enable()
			{
				if (typeof irform_toggle_enable.enable === "undefined")  {
					irform_toggle_enable.enable = true;
				}
				if (irform_toggle_enable.enable) {
					form.disable();
					irform_toggle_enable.enable = false;
				}
				else {
					form.enable();
					irform_toggle_enable.enable = true;
				}
			}
			function irformSet_example2()
			{
				form.set({
					keyword: "hello, world",
					editor: "<b>hello</b> <i>world</i>!!!!"
				});
			}
		</script>
		<button type="button" onclick="irformClear_example3()">Irform.clear</button><br>
		<script>
			function irformClear_example3()
			{
				Irform.clear("body");
			}
		</script>
	</body>
</html>
